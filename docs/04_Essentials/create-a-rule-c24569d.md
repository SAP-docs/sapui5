<!-- loioc24569de859446819798c5dc53ac604d -->

# Create a Rule

A rule consists of properties that test and advise on how possible issues can be resolved and a check function that tests the application for a specific issue. To create a rule, you need to set the properties and add a check function.

For more information on how to create rules in the user interface, see [Rules Management](rules-management-3fc864a.md).

You can find best practices on how to create rules in [Guidelines and Best Practices](guidelines-and-best-practices-eaeea19.md) .



<a name="loioc24569de859446819798c5dc53ac604d__section_uss_5gd_21b"/>

## Properties

You need to set the following properties :


<table>
<tr>
<th valign="top">

Property

</th>
<th valign="top">

Description

</th>
</tr>
<tr>
<td valign="top">

ID

</td>
<td valign="top">

The ID of the rule. It must be a valid camelCase string consisting of between 6 and 50 alphabetic characters.

</td>
</tr>
<tr>
<td valign="top">

Title

</td>
<td valign="top">

The name of the rule in a readable format. It must be a valid string consisting of between 6 and 200 characters.

</td>
</tr>
<tr>
<td valign="top">

Audiences

</td>
<td valign="top">

Describes what audiences the rule is intended for. You can have multiple audiences selected.

</td>
</tr>
<tr>
<td valign="top">

Categories

</td>
<td valign="top">

Describes what the rule tests. You can have multiple categories selected.

</td>
</tr>
<tr>
<td valign="top">

Min version

</td>
<td valign="top">

The minimum version the rule should be checked at. Possible values are <empty string\> and versions like 1.28, 1.44, etc.

</td>
</tr>
<tr>
<td valign="top">

Async

</td>
<td valign="top">

Defines if the rule check function will contain asynchronous operations.

</td>
</tr>
<tr>
<td valign="top">

Description

</td>
<td valign="top">

A short description of the rule.

</td>
</tr>
<tr>
<td valign="top">

Resolution

</td>
<td valign="top">

A short advice on what to do to fix the issue generated by the rule.

</td>
</tr>
<tr>
<td valign="top">

Resolution URLs

</td>
<td valign="top">

An array of key/value pairs of texts and URLs providing the links to documentation where the user can find how to fix the issue generated by the rule. You can have multiple resolution URLs. Key is `text` and value is `href`.

</td>
</tr>
<tr>
<td valign="top">

Check function

</td>
<td valign="top">

Function that checks the application against the rule. It is described in more detail in the next section.

</td>
</tr>
</table>



<a name="loioc24569de859446819798c5dc53ac604d__section_bmv_fhd_21b"/>

## Check Function

The check function has three main and one optional parameters. The main ones are `oIssueManager`, `oCoreFacade` and `oScope`, and the optional one is `fnResolve`. Here is more information about them:

-   `oIssueManager` - allows you to add new issues with the `addIssue()` method. The issue object has the following properties:

    -   Severity - the possible values are:

        -   `sap.ui.support.Severity.Low`

        -   `sap.ui.support.Severity.Medium`

        -   `sap.ui.support.Severity.High`


    -   Details - free text, may include any type of details related to the issue.

    -   Context - an object, which has an `ID` property. The `ID` should belong to the element, which generates the issue.


-   `oCoreFacade` - gives you access to the different elements provided by the SAPUI5 core framework:

    -   <code><a href="https://ui5.sap.com/#/api/sap.ui.support.CoreFacade%23methods/getMetadata">getMetadata()</a></code>

    -   <code><a href="https://ui5.sap.com/#/api/sap.ui.support.CoreFacade%23methods/getUIAreas">getUIAreas()</a></code>

    -   <code><a href="https://ui5.sap.com/#/api/sap.ui.support.CoreFacade%23methods/getComponents">getComponents()</a></code>

    -   <code><a href="https://ui5.sap.com/#/api/sap.ui.support.CoreFacade%23methods/getModels">getModels()</a></code>


-   `oScope` - retrieves elements in the scope with the following methods:

    -   `getElements()` - returns all the elements.

    -   `getElementsByClassName(className)` - the className can be, for example, `sap.m.Button`. The function returns all elements of type `sap.m.Button`.

    -   `getPublicElements()` - returns all elements that are part of public API aggregations.

    -   `getLoggedObjects(type)` - returns all logged objects. The method provides access to the logs and traces in the browser Console. Note that it is possible to enhance the log traces with an extra `fnSupportInfo` object which you can then analyze in the rule check function. The `fnSupportInfo` function is called only when support mode is turned on with the URL parameter `sap-ui-support` set to `true` \(`sap-ui-support=true`\). For more information, see [Rules for the Console Traces and Logging](common-rule-patterns-3fc1412.md#loio3fc141206cee4ab2aa514b569ed423c0__section_Rules_for_the_Console_Traces_and_Logging).


    Prior to version 1.54, `getElements` was not accepting any arguments and was returning all elements registered with the core. Now it accepts one query object parameter. This allows you to select only a specific subset of elements valid for your use case. The three parameters of the method are `type`, `public`, and `cloned`.

    Here is an example format:

    ```
    var queryObject = {
    
      type: "sap.m.Button", // String property specifying the type to select
    
      public: true, // Boolean property specifying whether only public elements should be loaded
    
      cloned: false // Boolean argument specifying if cloned elements are needed
    
    }
    ```

    When the `public` parameter is set to true, the `getElements` function only explores public aggregations. It is useful if, for example, you have a composite control comprising of public and internal subelements, and you only want to check the public ones.

    The `cloned` parameter allows you to filter out elements that are clones of list bindings. If you don't want to explore issues associated with multiple cloned elements, for example repeated table cell content, set `cloned: false` and the results will include only one representative instance.

    Here is an example of a check function that checks all Input controls which are part of the public aggregation and have no parent set:

    ```js
    
    function(issueManager, oCoreFacade, oScope) {
        var mElements = oScope.getElements({
            type: "sap.m.Input",
            public: true,
            cloned: false
        });
    
        for (var n in mElements) {
            var oElement = mElements[n];
    
            if (!oElement.getParent()) {
                issueManager.addIssue({
                    severity: Severity.Medium, // Severity enum is taken from "sap/ui/support/library" import
                    details: "The element " + oElement.getId() + " has no parent.",
                    context: {
                        id: oElement.getId()
                    }
                });
            }
        }
    }
    
    ```

-   `fnResolve` - an optional parameter. It is passed to the check function only when the rule property `async` is set to `true` to allow you, as the rule developer, to resolve an asynchronous operation. The rule times out if it takes more than 10 seconds to resolve.

    Here is an async rule code example:

    ```js
    function(issueManager, oCoreFacade, oScope, fnResolve) {
      // Some async operation
      setTimeout(function () {
        â€¦
        fnResolve();
      }, 2000);
    }
    
    ```


> ### Remember:  
> Make sure to call <code><b>issueManager.addIssue()</b></code> in your check function so that issues can be seen in the analysis results.

**Related Information**  


[API Reference: `sap.ui.support.ExecutionScope`](https://ui5.sap.com/#/api/sap.ui.support.ExecutionScope)

[Common Rule Patterns](common-rule-patterns-3fc1412.md "The Support Assistant checks verify different aspects of your web application - from the view/elements structure and control properties to the dynamic, data and event-driven interactions. You can traverse the DOM tree, look at error logs during startup or check the CSS.")

